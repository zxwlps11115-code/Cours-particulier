<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title data-i18n="meta-title">ãƒ•ãƒ©ãƒ³ã‚¹æ—¥æœ¬ã‚»ã‚¯ã‚·ãƒ§ãƒ³å‘ã‘ æ—¥æœ¬èªå­¦ç¿’ãƒ—ãƒ­ã‚°ãƒ©ãƒ </title>
  <meta name="description" data-i18n="meta-desc" content="ãƒ•ãƒ©ãƒ³ã‚¹æ—¥æœ¬ã‚»ã‚¯ã‚·ãƒ§ãƒ³åœ¨ç±ç”Ÿå¾’æ§˜å‘ã‘ã®ã€æ—¥æœ¬èªå­¦ç¿’ã¨é¸æŠç§‘ç›®ã‚µãƒãƒ¼ãƒˆã‚’ä½µã›æŒã¤ç·åˆãƒ—ãƒ­ã‚°ãƒ©ãƒ ã€‚" />
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg-1:#f7fbff;
      --bg-2:#ffffff;
      --card:#ffffff;
      --muted:#4b5563;
      --text:#0f1724;
      --accent:#0ea5a1;
      --accent-2:#3b82f6;
      --radius:12px;
      --maxwidth:1100px;
      --gap:20px;
      --header-height:72px;
      --mobile-hit:48px;
      --mobile-nav-width:min(92vw,420px);
      --safe-top: env(safe-area-inset-top, 0px);
    }

    /* Reset & base */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:"Noto Sans JP", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg, var(--bg-1) 0%, #eef7fb 60%);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.6;
      padding-bottom:64px;
      scroll-behavior: auto;
      font-size:16px;
      -webkit-tap-highlight-color: rgba(0,0,0,0);
    }

    /* Container */
    .container{
      width:clamp(320px,92%,var(--maxwidth));
      margin:0 auto;
      padding:18px;
      max-width:var(--maxwidth);
    }

    /* Header */
    header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:12px 0;
    }
    .brand{
      display:flex;
      gap:12px;
      align-items:center;
    }
    .logo{
      width:56px;height:56px;border-radius:10px;
      background:linear-gradient(135deg,var(--accent),var(--accent-2));
      display:grid;place-items:center;color:white;font-weight:800;font-size:1.05rem;
      box-shadow:0 8px 20px rgba(59,130,246,0.08);
      flex-shrink:0;
      background-size:cover;
      background-position:center;
    }
    .brand h1{margin:0;font-size:clamp(1rem,2.2vw,1.15rem)}
    .brand p{margin:0;font-size:0.85rem;color:var(--muted)}

    /* Nav wrapper */
    .nav-wrap{display:flex;align-items:center;gap:12px}

/* --- IMPORTANT: hide inline nav and language buttons from the header everywhere --- */
    nav.primary { display:none !important; }
    .lang-switch { display:none !important; }

    /* Hamburger visible everywhere (desktop + mobile) */
    .hamburger {
      display:inline-grid;
      place-items:center;
      width:var(--mobile-hit);height:var(--mobile-hit);border-radius:10px;border:1px solid rgba(15,23,36,0.06);
      background:transparent;cursor:pointer;
    }
    .hamburger:focus{outline:3px solid rgba(59,130,246,0.16);outline-offset:2px}
    .hamburger .bar{width:20px;height:2px;background:var(--text);display:block;border-radius:2px;position:relative}
    .hamburger .bar::after,.hamburger .bar::before{content:"";position:absolute;left:0;right:0;height:2px;background:var(--text);border-radius:2px}
    .hamburger .bar::before{top:-6px}
    .hamburger .bar::after{bottom:-6px}

    /* Mobile nav panel + overlay (used for all sizes now) */
    .mobile-overlay {
      position:fixed;inset:0;
      background:rgba(2,6,23,0.35);
      opacity:0;visibility:hidden;
      transition:opacity .28s ease, visibility .28s ease;
      z-index:1100;
    }
    .mobile-overlay.open{opacity:1;visibility:visible}

    .mobile-nav {
      position:fixed;
      top:var(--safe-top);
      right:0;
      height:calc(100vh - var(--safe-top));
      width:var(--mobile-nav-width);
      transform:translateX(105%);
      transition:transform .32s cubic-bezier(.2,.9,.2,1);
      background:linear-gradient(180deg,#fff,#f5fbff);
      box-shadow: -10px 28px 60px rgba(2,6,23,0.12);
      padding:calc(84px + var(--safe-top)) 20px 24px;
      z-index:1200;
      display:flex;flex-direction:column;gap:10px;
      border-top-left-radius:14px;
      border-bottom-left-radius:14px;
      -webkit-overflow-scrolling:touch;
      overflow:auto;
    }
    .mobile-nav.open{transform:translateX(0)}
    .mobile-nav a{display:block;padding:14px;border-radius:10px;text-decoration:none;color:var(--text);font-weight:700}
    .mobile-nav a:active{opacity:.95}
    .mobile-nav .nav-section-title{font-weight:700;margin-top:6px;margin-bottom:6px;color:var(--muted)}

    /* HERO */
    .hero{
      display:grid;
      gap:18px;
      padding:22px;
      border-radius:16px;
      background:linear-gradient(180deg,#ffffff,#f3fbff);
      align-items:center;
    }
    @media (min-width:900px){
      .hero{grid-template-columns:1fr 380px;gap:24px}
    }

    .hero-left {}
    .eyebrow{display:inline-block;background:rgba(14,165,161,0.08);padding:6px 10px;border-radius:999px;font-weight:700;color:var(--accent);font-size:0.9rem}
    .headline{font-size:clamp(1.3rem,3.4vw,2rem);margin:6px 0 0;color:var(--text);line-height:1.05}
    .sub{color:var(--muted);margin:6px 0 0;font-size:clamp(0.95rem,1.8vw,1.05rem)}

    .hero-cta{display:flex;gap:12px;align-items:center;margin-top:12px;flex-wrap:wrap}
    .cta-primary{
      background:linear-gradient(90deg,var(--accent),var(--accent-2));
      color:white;padding:12px 16px;border-radius:12px;text-decoration:none;font-weight:800;
      box-shadow:0 8px 18px rgba(14,165,161,0.12);
      display:inline-block;
      min-width:160px;text-align:center;
    }
    .cta-secondary{
      background:transparent;border:1px solid rgba(15,23,36,0.06);
      padding:11px 14px;border-radius:12px;color:var(--text);text-decoration:none;font-weight:700;
      display:inline-block;min-width:140px;text-align:center;
    }

    .hero-art{
      border-radius:12px;
      min-height:220px;
      display:grid;
      place-items:center;
      background:
        radial-gradient(1200px 400px at 10% 10%, rgba(59,130,246,0.07), transparent 10%),
        linear-gradient(180deg, rgba(14,165,161,0.06), rgba(59,130,246,0.03));
      border:1px solid rgba(15,23,36,0.03);
      padding:18px;
    }
    .hero-art .placeholder{
      width:100%;max-width:300px;height:160px;border-radius:10px;background:linear-gradient(135deg,#fff,#f7feff);
      display:grid;place-items:center;color:var(--muted);font-weight:700;
      box-shadow:0 8px 26px rgba(2,6,23,0.04);
      font-size:1rem;
    }
    @media (max-width:900px){ .hero-art{min-height:140px} .hero-art .placeholder{height:120px} }

    /* Sections */
    main{display:block;gap:28px}
    section{margin-bottom:28px}
    .card{
      background:var(--card);
      border-radius:var(--radius);
      padding:18px;
      border:1px solid rgba(15,23,36,0.04);
      box-shadow:0 8px 26px rgba(2,6,23,0.04);
    }
    h2{margin:6px 0 12px;font-size:clamp(1.02rem,2vw,1.22rem)}
    h3{margin:8px 0;font-size:1rem}
    p.lead{color:var(--muted);margin:0 0 12px}

    /* Features grid: fluid */
    .features{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;margin-top:8px}
    .feature{
      display:flex;gap:12px;align-items:flex-start;padding:12px;border-radius:10px;border:1px solid rgba(15,23,36,0.03);
      background:linear-gradient(180deg,#fff,#fbfeff);
    }
    .icon{
      width:46px;height:46px;border-radius:10px;display:grid;place-items:center;background:white;color:var(--text);font-weight:700;
      box-shadow:0 6px 14px rgba(2,6,23,0.03);
      flex-shrink:0;
    }
    .feature h4{margin:0 0 4px}
    .feature p{margin:0;color:var(--muted)}

    /* Program grid fluid */
    .program-grid{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
    .program-item{padding:14px;border-radius:10px;border:1px solid rgba(15,23,36,0.04);background:#fff}

    .list{padding-left:18px;margin:0}
    .list li{margin-bottom:8px;color:var(--muted)}

    /* separators */
    .sep{height:1px;background:linear-gradient(90deg, transparent, rgba(15,23,36,0.04), transparent);margin:16px 0;border-radius:4px}

    /* contact */
    .contact{display:grid;gap:6px}
    .contact .title{font-weight:700}
    .contact .info{color:var(--muted);line-height:1.5}
    .contact .email{font-weight:700;color:var(--text);word-break:break-all}

    footer{
      margin-top:28px;padding:18px 0;color:var(--muted);display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:12px;
      border-top:1px solid rgba(15,23,36,0.04);
    }

    /* accessibility focus */
    a:focus{outline:3px solid rgba(59,130,246,0.16);outline-offset:3px;border-radius:6px}

    .lang-btn {
      background:transparent;border:1px solid rgba(15,23,36,0.06);padding:8px 10px;border-radius:10px;font-weight:700;cursor:pointer;
    }
    .lang-btn[aria-pressed="true"] { background: linear-gradient(90deg,var(--accent),var(--accent-2)); color:#fff; border-color: transparent; }

    @media (prefers-reduced-motion: reduce){
      *{transition:none!important}
    }

    .muted{color:var(--muted)}

    @media (max-width:640px){
      header{padding:10px 0}
      .brand h1{font-size:1rem}
      .brand p{font-size:0.78rem}
      .logo{width:48px;height:48px}
      .hero-cta .cta-primary, .hero-cta .cta-secondary{min-width:140px;padding:12px 14px}
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand" aria-hidden="false">
        <div id="logo" class="logo" aria-hidden="true" style="background-image: url(nihon_connect.jpeg); background-size:cover; background-position:center;"></div>
        <div>
          <h1 data-i18n="brand-title">Nihon Connect</h1>
          <p data-i18n="brand-sub">ãƒ•ãƒ©ãƒ³ã‚¹æ—¥æœ¬ã‚»ã‚¯ã‚·ãƒ§ãƒ³ ã‚µãƒãƒ¼ãƒˆ</p>
        </div>
      </div>

      <div class="nav-wrap">
        <!-- Desktop nav intentionally hidden from header (moved into hamburger panel) -->
        <nav class="primary" aria-label="ãƒšãƒ¼ã‚¸å†…ãƒªãƒ³ã‚¯" style="display:none;">
          <a class="nav-link" href="#about" data-i18n="nav-about">ç§ãŸã¡ã®å¼·ã¿</a>
          <a class="nav-link" href="#programs" data-i18n="nav-programs">ãƒ—ãƒ­ã‚°ãƒ©ãƒ </a>
          <a class="nav-link" href="#future" data-i18n="nav-future">å°†æ¥è¨­è¨ˆ</a>
          <a class="nav-link" href="#contact" data-i18n="nav-contact">ãŠå•ã„åˆã‚ã›</a>
        </nav>

        <!-- language switch hidden from header -->
        <div class="lang-switch" aria-hidden="true" style="margin-left:8px; display:none;">
          <button class="lang-btn" id="btn-jp" data-lang="ja" aria-pressed="true">JP</button>
          <button class="lang-btn" id="btn-fr" data-lang="fr" aria-pressed="false">FR</button>
        </div>

        <!-- Hamburger (now the only visible control in header) -->
        <button id="hamburger" class="hamburger" aria-label="Menu" aria-expanded="false" aria-controls="mobile-nav">
          <span class="bar" aria-hidden="true"></span>
        </button>
      </div>
    </header>

    <!-- Mobile overlay (for click outside) -->
    <div id="mobile-overlay" class="mobile-overlay" tabindex="-1" aria-hidden="true"></div>

    <!-- Mobile nav panel (now used on all screen sizes) -->
    <nav id="mobile-nav" class="mobile-nav" aria-hidden="true" aria-label="Mobile navigation">
      <div class="nav-section-title" aria-hidden="true" data-i18n="brand-sub">è¨€èª / Lang</div>

      <!-- links -->
      <a href="#about" class="mobile-link" data-i18n="nav-about">ç§ãŸã¡ã®å¼·ã¿</a>
      <a href="#programs" class="mobile-link" data-i18n="nav-programs">ãƒ—ãƒ­ã‚°ãƒ©ãƒ </a>
      <a href="#future" class="mobile-link" data-i18n="nav-future">å°†æ¥è¨­è¨ˆ</a>
      <a href="#contact" class="mobile-link" data-i18n="nav-contact">ãŠå•ã„åˆã‚ã›</a>

      <!-- language buttons -->
      <div style="margin-top:18px;border-top:1px solid rgba(15,23,36,0.03);padding-top:14px;">
        <div style="font-weight:700;margin-bottom:8px" data-i18n="brand-sub">è¨€èª / Lang</div>
        <div style="display:flex;gap:8px;">
          <button class="lang-btn" id="mb-btn-jp" data-lang="ja" aria-pressed="true">JP</button>
          <button class="lang-btn" id="mb-btn-fr" data-lang="fr" aria-pressed="false">FR</button>
        </div>
      </div>
    </nav>

    <main>
      <!-- HERO -->
      <section class="hero card" aria-labelledby="hero-title">
        <div class="hero-left">
          <div>
            <span class="eyebrow" data-i18n="eyebrow">ãƒ•ãƒ©ãƒ³ã‚¹æ—¥æœ¬ã‚»ã‚¯ã‚·ãƒ§ãƒ³åœ¨ç±ç”Ÿå¾’æ§˜å‘ã‘</span>
            <h1 id="hero-title" class="headline" data-i18n="headline">æ—¥æœ¬èªã§å­¦ã¶ã€‚ç†è§£ãŒå¤‰ã‚ã‚‹ â€” å­¦åŠ›ã¨è‡ªä¿¡ã‚’è‚²ã¦ã‚‹</h1>
            <p class="sub" data-i18n="sub">é¸æŠç§‘ç›®ï¼ˆç®—æ•°ãƒ»ãƒ•ãƒ©ãƒ³ã‚¹èªãƒ»è‹±èªãƒ»éŸ³æ¥½ï¼‰ã‚’æ—¥æœ¬èªã§ä¸å¯§ã«è§£èª¬ã€‚å®¿é¡Œã‚µãƒãƒ¼ãƒˆãƒ»ãƒ†ã‚¹ãƒˆå¯¾ç­–ãƒ»å°†æ¥è¨­è¨ˆã¾ã§ã€äºŒæœ¬æŸ±ã§æ”¯ãˆã¾ã™ã€‚</p>
          </div>

          <div class="hero-cta">
            <a class="cta-primary" href="#programs" data-scroll data-i18n="cta-programs">ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’è¦‹ã‚‹</a>
            <a class="cta-secondary" href="#about" data-scroll data-i18n="cta-about">ç§ãŸã¡ã®å¼·ã¿ã¸</a>
          </div>
        </div>

        <div class="hero-art" aria-hidden="true">
          <div class="placeholder" style="background-image: url(japanese_class.jpg);background-size: cover;"></div>
        </div>
      </section>

      <!-- About / Strengths -->
      <section id="about" class="card" aria-labelledby="about-title">
        <h2 id="about-title" data-i18n="about-title">ğŸ“ ç§ãŸã¡ã®å¼·ã¿</h2>
        <p class="lead" data-i18n="about-lead">é¸æŠç§‘ç›®ãŒãƒ•ãƒ©ãƒ³ã‚¹èªã§æ•™ãˆã‚‰ã‚Œã‚‹ç’°å¢ƒã«ã‚ã‚‹ãŠå­æ§˜å‘ã‘ã«ã€æ—¥æœ¬èªã§ã€Œæ¦‚å¿µã€ã‚’å†æ§‹ç¯‰ã™ã‚‹ã“ã¨ã§ç†è§£ã‚’ç¢ºå®Ÿã«ã—ã¾ã™ã€‚å­¦è¡“ç”¨èªã‚„è¤‡é›‘ãªæ¦‚å¿µã‚‚æ¯èªã§ä¸å¯§ã«èª¬æ˜ã—ã¾ã™ã€‚</p>

        <div class="features" role="list">
          <div class="feature" role="listitem">
            <div class="icon" aria-hidden="true">ğŸ§ </div>
            <div>
              <h4 data-i18n="f1-title">æ¯èªã§ã®æ¦‚å¿µå®šç€</h4>
              <p data-i18n="f1-desc">å­¦è¡“ç”¨èªã‚„æ¦‚å¿µã‚’æ—¥æœ¬èªã§ã‚ã‹ã‚Šã‚„ã™ãæ•´ç†ã—ã€é•·æœŸè¨˜æ†¶ã¸çµã³ã¤ã‘ã¾ã™ã€‚</p>
            </div>
          </div>

          <div class="feature" role="listitem">
            <div class="icon" aria-hidden="true">ğŸ§©</div>
            <div>
              <h4 data-i18n="f2-title">å€‹åˆ¥æœ€é©åŒ–</h4>
              <p data-i18n="f2-desc">å­¦åŠ›è¨ºæ–­ã«åŸºã¥ãå€‹åˆ¥ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ ã§åŠ¹ç‡ã‚ˆãå¼±ç‚¹ã‚’å…‹æœã—ã¾ã™ã€‚</p>
            </div>
          </div>

          <div class="feature" role="listitem">
            <div class="icon" aria-hidden="true">ğŸ¯</div>
            <div>
              <h4 data-i18n="f3-title">ç›®æ¨™å¿—å‘ã®æˆæ¥­</h4>
              <p data-i18n="f3-desc">çŸ­æœŸçš„ãªãƒ†ã‚¹ãƒˆå¯¾ç­–ã‹ã‚‰é•·æœŸçš„ãªå­¦ç¿’è¨ˆç”»ã¾ã§ã€ç›®çš„ã«åˆã‚ã›ã¦è¨­è¨ˆã—ã¾ã™ã€‚</p>
            </div>
          </div>

          <div class="feature" role="listitem">
            <div class="icon" aria-hidden="true">ğŸŒ</div>
            <div>
              <h4 data-i18n="f4-title">æ–‡åŒ–ã‚’è¾¼ã‚ãŸæ•™æ</h4>
              <p data-i18n="f4-desc">æ¼«ç”»ãƒ»ã‚¢ãƒ‹ãƒ¡ç­‰ã€èˆˆå‘³ã‚’å¼•ãæ•™æã§ã€Œç”ŸããŸæ—¥æœ¬èªã€ã‚’æ¥½ã—ã¿ãªãŒã‚‰ç¿’å¾—ã—ã¾ã™ã€‚</p>
            </div>
          </div>
        </div>
      </section>

      <div class="sep" aria-hidden="true"></div>

      <!-- Programs -->
      <section id="programs" class="card" aria-labelledby="programs-title">
        <h2 id="programs-title" data-i18n="programs-title">ğŸ“– ãƒ—ãƒ­ã‚°ãƒ©ãƒ èª¬æ˜ï¼ˆè©³ç´°ï¼‰</h2>
        <p class="lead" data-i18n="programs-lead">ä»¥ä¸‹ã¯æä¾›ã™ã‚‹äºŒæœ¬æŸ±ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ è©³ç´°ã§ã™ã€‚</p>

        <div class="program-grid" style="margin-top:12px;">
          <!-- Program 1 -->
          <article class="program-item" aria-labelledby="p1-title">
            <h3 id="p1-title" data-i18n="p1-title">ãƒ—ãƒ­ã‚°ãƒ©ãƒ 1: æ—¥æœ¬èªå­¦ç¿’ã‚µãƒãƒ¼ãƒˆ</h3>
            <p class="muted" data-i18n="p1-sub">å®¿é¡Œãƒ»ãƒ†ã‚¹ãƒˆå¯¾ç­–ã‹ã‚‰ã€ç·åˆçš„ãªæ—¥æœ¬èªåŠ›å‘ä¸Šã€ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ç¶­æŒãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¾ã§ã€‚</p>

            <div style="margin-top:10px">
              <h4 data-i18n="p1-a-title">å®¿é¡Œãƒ»ãƒ†ã‚¹ãƒˆå¯¾ç­–</h4>
              <ul class="list">
                <li data-i18n="p1-a-1"><strong>ãƒ†ã‚¹ãƒˆäºˆç¿’æŒ‡å°</strong> - åŠ¹æœçš„ãªäºˆç¿’æ³•ã‚’æŒ‡å°</li>
                <li data-i18n="p1-a-2"><strong>æ¼¢å­—ãƒ†ã‚¹ãƒˆå¯¾ç­–</strong> - æ„å‘³ã¨ä¾‹æ–‡ã‚’çµã³ã¤ã‘ã‚‹å®šç€ã™ã‚‹å­¦ç¿’æ³•ã§ç¢ºå®Ÿã«ãƒã‚¹ã‚¿ãƒ¼</li>
                <li data-i18n="p1-a-3"><strong>èª­è§£åŠ›å¼·åŒ–</strong> - æ®µéšçš„ã«æ–‡ç« ç†è§£åŠ›ã‚’ä¼¸ã°ã™</li>
              </ul>
            </div>

            <div style="margin-top:10px">
              <h4 data-i18n="p1-b-title">ç·åˆçš„ãªæ—¥æœ¬èªåŠ›å‘ä¸Š</h4>
              <ul class="list">
                <li data-i18n="p1-b-1"><strong>èªå½™åŠ›å¼·åŒ–ãƒ—ãƒ­ã‚°ãƒ©ãƒ </strong> - å®Ÿç”¨èªå½™ã€æ¼«ç”»ï¼æœ¬ã‚’æ•™æã«å®Ÿè·µçš„èª­è§£</li>
                <li data-i18n="p1-b-2"><strong>å¼±ç‚¹å…‹æœã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ </strong> - å€‹åˆ¥åˆ†æã«åŸºã¥ãæ”¹å–„ãƒ—ãƒ©ãƒ³</li>
              </ul>
            </div>

            <div style="margin-top:10px">
              <h4 data-i18n="p1-c-title">ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ç¶­æŒ</h4>
              <ul class="list">
                <li data-i18n="p1-c-1">æ¼¢å­—ã‹ã‚‹ãŸãƒ»å­¦ç¿’ã‚²ãƒ¼ãƒ ã§æ¥½ã—ãç¶™ç¶š</li>
                <li data-i18n="p1-c-2">æ¼«ç”»ãƒ»ã‚¢ãƒ‹ãƒ¡ã‚’æ´»ç”¨ã—ãŸèˆˆå‘³ãƒ™ãƒ¼ã‚¹ã®æ•™æé¸å®š</li>
              </ul>
            </div>
          </article>

          <!-- Program 2 -->
          <article class="program-item" aria-labelledby="p2-title">
            <h3 id="p2-title" data-i18n="p2-title">ãƒ—ãƒ­ã‚°ãƒ©ãƒ 2: é¸æŠç§‘ç›®ã‚µãƒãƒ¼ãƒˆ</h3>
            <p class="muted" data-i18n="p2-sub">ãƒ•ãƒ©ãƒ³ã‚¹èªã§æ•™ãˆã‚‰ã‚Œã‚‹ç§‘ç›®ã‚’æ—¥æœ¬èªã§å†è§£èª¬ã—ã€ç†è§£ã‚’æ·±ã‚ã¾ã™ã€‚</p>

            <div style="margin-top:10px">
              <h4 data-i18n="p2-a-title">å¯¾å¿œç§‘ç›®</h4>
              <ul class="list">
                <li data-i18n="p2-a-1"><strong>ç®—æ•°</strong> - è¨ˆç®—ãƒ»æ–‡ç« é¡Œã‚’æ—¥æœ¬èªã§ä¸å¯§ã«è§£èª¬</li>
                <li data-i18n="p2-a-2"><strong>ãƒ•ãƒ©ãƒ³ã‚¹èª</strong> - æ–‡æ³•ã‚„è¡¨ç¾ã‚’æ—¥æœ¬èªã§æ•´ç†</li>
                <li data-i18n="p2-a-3"><strong>è‹±èª</strong> - æ–‡æ³•ãƒ»èªå½™ã‚’æ—¥æœ¬èªã§ç†è§£</li>
                <li data-i18n="p2-a-4"><strong>éŸ³æ¥½</strong> - éŸ³æ¥½ç†è«–ã‚„æ¥½æ›²åˆ†æã‚’æ—¥æœ¬èªã§ã‚µãƒãƒ¼ãƒˆ</li>
              </ul>
            </div>

            <div style="margin-top:10px">
              <h4 data-i18n="p2-b-title">å­¦ç¿’ã‚µãƒãƒ¼ãƒˆå†…å®¹</h4>
              <ul class="list">
                <li data-i18n="p2-b-1">å®¿é¡Œæ”¯æ´ï¼ˆãƒ•ãƒ©ãƒ³ã‚¹èªã®æŒ‡ç¤ºã‚’æ—¥æœ¬èªã§è§£èª¬ï¼‰</li>
                <li data-i18n="p2-b-2">ãƒ†ã‚¹ãƒˆäºˆç¿’ï¼ˆç¯„å›²ã‚’æ—¥æœ¬èªã§äº‹å‰å­¦ç¿’ï¼‰</li>
                <li data-i18n="p2-b-3">å­¦è¡“ç”¨èªã®ç†è§£ï¼ˆå°‚é–€ç”¨èªã‚’æ—¥æœ¬èªã§åˆ†ã‹ã‚Šã‚„ã™ãï¼‰</li>
                <li data-i18n="p2-b-4">æ¦‚å¿µã®å®šç€ï¼ˆæ—¥æœ¬èªèª¬æ˜ã§æ·±ã„ç†è§£ã‚’å®Ÿç¾ï¼‰</li>
              </ul>
            </div>
          </article>
        </div>
      </section>

      <div class="sep" aria-hidden="true"></div>

      <!-- Future planning -->
      <section id="future" class="card" aria-labelledby="future-title">
        <h2 id="future-title" data-i18n="future-title">ğŸŒŸ å°†æ¥è¨­è¨ˆã‚µãƒãƒ¼ãƒˆ</h2>
        <p class="lead" data-i18n="future-lead">æ—¥æœ¬èªåŠ›ã¨ãƒã‚¤ãƒªãƒ³ã‚¬ãƒ«ã¨ã„ã†å¼·ã¿ã‚’æ´»ã‹ã—ãŸå°†æ¥è¨­è¨ˆã‚’ã€ä¸€ç·’ã«æãã¾ã™ã€‚</p>
        <ul class="list" style="margin-top:8px">
          <li data-i18n="future-1">æ—¥æœ¬èªå­¦ç¿’ã®ç›®æ¨™è¨­å®šã¨é”æˆãƒ—ãƒ©ãƒ³</li>
          <li data-i18n="future-2">ãƒã‚¤ãƒªãƒ³ã‚¬ãƒ«ã¨ã—ã¦ã®å¼·ã¿ã‚’æ´»ã‹ã™ã‚­ãƒ£ãƒªã‚¢ãƒ—ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°</li>
          <li data-i18n="future-3">ä¿è­·è€…ã¨ã®é¢è«‡ã§é•·æœŸãƒ“ã‚¸ãƒ§ãƒ³ã‚’å…±æœ‰</li>
        </ul>
      </section>

      <div class="sep" aria-hidden="true"></div>

      <!-- Contact -->
      <section id="contact" class="card" aria-labelledby="contact-title">
        <h2 id="contact-title" data-i18n="contact-title">ãŠå•ã„åˆã‚ã›</h2>
        <div class="contact">
          <div class="title" data-i18n="contact-email-label">ãƒ¡ãƒ¼ãƒ«</div>
          <div class="info">
            <div class="email">nihon_connect.paris@outlook.com</div>
            <div style="margin-top:6px;color:var(--muted)" data-i18n="contact-hours">å¯¾å¿œæ™‚é–“: å¹³æ—¥ 9:00ã€œ18:00ï¼ˆä¸­å¤®ãƒ¨ãƒ¼ãƒ­ãƒƒãƒ‘æ™‚é–“ï¼‰</div>
          </div>
        </div>
      </section>
    </main>

    <footer>
      <div>
        <strong>Nihon Connect</strong>
        <div style="color:var(--muted)" data-i18n="footer-tag">æ—¥æœ¬èªã§å­¦ã¶ã€æœªæ¥ã‚’ã¤ãã‚‹ã€‚</div>
      </div>

      <div style="color:var(--muted)">Â© <span id="year"></span></div>
    </footer>
  </div>

  <script>
    // ---- translations object (JP / FR) ----
    const translations = {
      ja: {
        "meta-title": "ãƒ•ãƒ©ãƒ³ã‚¹æ—¥æœ¬ã‚»ã‚¯ã‚·ãƒ§ãƒ³å‘ã‘ æ—¥æœ¬èªå­¦ç¿’ãƒ—ãƒ­ã‚°ãƒ©ãƒ ",
        "meta-desc": "ãƒ•ãƒ©ãƒ³ã‚¹æ—¥æœ¬ã‚»ã‚¯ã‚·ãƒ§ãƒ³åœ¨ç±ç”Ÿå¾’æ§˜å‘ã‘ã®ã€æ—¥æœ¬èªå­¦ç¿’ã¨é¸æŠç§‘ç›®ã‚µãƒãƒ¼ãƒˆã‚’ä½µã›æŒã¤ç·åˆãƒ—ãƒ­ã‚°ãƒ©ãƒ ã€‚",
        "brand-title": "Nihon Connect",
        "brand-sub": "ãƒ•ãƒ©ãƒ³ã‚¹æ—¥æœ¬ã‚»ã‚¯ã‚·ãƒ§ãƒ³ ã‚µãƒãƒ¼ãƒˆ",
        "nav-about": "ç§ãŸã¡ã®å¼·ã¿",
        "nav-programs": "ãƒ—ãƒ­ã‚°ãƒ©ãƒ ",
        "nav-future": "å°†æ¥è¨­è¨ˆ",
        "nav-contact": "ãŠå•ã„åˆã‚ã›",
        "eyebrow": "ãƒ•ãƒ©ãƒ³ã‚¹æ—¥æœ¬ã‚»ã‚¯ã‚·ãƒ§ãƒ³åœ¨ç±ç”Ÿå¾’æ§˜å‘ã‘",
        "headline": "æ—¥æœ¬èªã§å­¦ã¶ã€‚ç†è§£ãŒå¤‰ã‚ã‚‹ â€” å­¦åŠ›ã¨è‡ªä¿¡ã‚’è‚²ã¦ã‚‹",
        "sub": "é¸æŠç§‘ç›®ï¼ˆç®—æ•°ãƒ»ãƒ•ãƒ©ãƒ³ã‚¹èªãƒ»è‹±èªãƒ»éŸ³æ¥½ï¼‰ã‚’æ—¥æœ¬èªã§ä¸å¯§ã«è§£èª¬ã€‚å®¿é¡Œã‚µãƒãƒ¼ãƒˆãƒ»ãƒ†ã‚¹ãƒˆå¯¾ç­–ãƒ»å°†æ¥è¨­è¨ˆã¾ã§ã€äºŒæœ¬æŸ±ã§æ”¯ãˆã¾ã™ã€‚",
        "cta-programs": "ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’è¦‹ã‚‹",
        "cta-about": "ç§ãŸã¡ã®å¼·ã¿ã¸",
        "about-title": "ğŸ“ ç§ãŸã¡ã®å¼·ã¿",
        "about-lead": "é¸æŠç§‘ç›®ãŒãƒ•ãƒ©ãƒ³ã‚¹èªã§æ•™ãˆã‚‰ã‚Œã‚‹ç’°å¢ƒã«ã‚ã‚‹ãŠå­æ§˜å‘ã‘ã«ã€æ—¥æœ¬èªã§ã€Œæ¦‚å¿µã€ã‚’å†æ§‹ç¯‰ã™ã‚‹ã“ã¨ã§ç†è§£ã‚’ç¢ºå®Ÿã«ã—ã¾ã™ã€‚å­¦è¡“ç”¨èªã‚„è¤‡é›‘ãªæ¦‚å¿µã‚‚æ¯èªã§ä¸å¯§ã«èª¬æ˜ã—ã¾ã™ã€‚",
        "f1-title": "æ¯èªã§ã®æ¦‚å¿µå®šç€",
        "f1-desc": "å­¦è¡“ç”¨èªã‚„æ¦‚å¿µã‚’æ—¥æœ¬èªã§ã‚ã‹ã‚Šã‚„ã™ãæ•´ç†ã—ã€é•·æœŸè¨˜æ†¶ã¸çµã³ã¤ã‘ã¾ã™ã€‚",
        "f2-title": "å€‹åˆ¥æœ€é©åŒ–",
        "f2-desc": "å­¦åŠ›è¨ºæ–­ã«åŸºã¥ãå€‹åˆ¥ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ ã§åŠ¹ç‡ã‚ˆãå¼±ç‚¹ã‚’å…‹æœã—ã¾ã™ã€‚",
        "f3-title": "ç›®æ¨™å¿—å‘ã®æˆæ¥­",
        "f3-desc": "çŸ­æœŸçš„ãªãƒ†ã‚¹ãƒˆå¯¾ç­–ã‹ã‚‰é•·æœŸçš„ãªå­¦ç¿’è¨ˆç”»ã¾ã§ã€ç›®çš„ã«åˆã‚ã›ã¦è¨­è¨ˆã—ã¾ã™ã€‚",
        "f4-title": "æ–‡åŒ–ã‚’è¾¼ã‚ãŸæ•™æ",
        "f4-desc": "æ¼«ç”»ãƒ»ã‚¢ãƒ‹ãƒ¡ç­‰ã€èˆˆå‘³ã‚’å¼•ãæ•™æã§ã€Œç”ŸããŸæ—¥æœ¬èªã€ã‚’æ¥½ã—ã¿ãªãŒã‚‰ç¿’å¾—ã—ã¾ã™ã€‚",
        "programs-title": "ğŸ“– ãƒ—ãƒ­ã‚°ãƒ©ãƒ èª¬æ˜ï¼ˆè©³ç´°ï¼‰",
        "programs-lead": "ä»¥ä¸‹ã¯æä¾›ã™ã‚‹äºŒæœ¬æŸ±ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ è©³ç´°ã§ã™ã€‚",
        "p1-title": "ãƒ—ãƒ­ã‚°ãƒ©ãƒ 1: æ—¥æœ¬èªå­¦ç¿’ã‚µãƒãƒ¼ãƒˆ",
        "p1-sub": "å®¿é¡Œãƒ»ãƒ†ã‚¹ãƒˆå¯¾ç­–ã‹ã‚‰ã€ç·åˆçš„ãªæ—¥æœ¬èªåŠ›å‘ä¸Šã€ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ç¶­æŒãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¾ã§ã€‚",
        "p1-a-title": "å®¿é¡Œãƒ»ãƒ†ã‚¹ãƒˆå¯¾ç­–",
        "p1-a-1": "<strong>ãƒ†ã‚¹ãƒˆäºˆç¿’æŒ‡å°</strong> - åŠ¹æœçš„ãªäºˆç¿’æ³•ã‚’æŒ‡å°",
        "p1-a-2": "<strong>æ¼¢å­—ãƒ†ã‚¹ãƒˆå¯¾ç­–</strong> - æ„å‘³ã¨ä¾‹æ–‡ã‚’çµã³ã¤ã‘ã‚‹å®šç€ã™ã‚‹å­¦ç¿’æ³•ã§ç¢ºå®Ÿã«ãƒã‚¹ã‚¿ãƒ¼",
        "p1-a-3": "<strong>èª­è§£åŠ›å¼·åŒ–</strong> - æ®µéšçš„ã«æ–‡ç« ç†è§£åŠ›ã‚’ä¼¸ã°ã™",
        "p1-b-title": "ç·åˆçš„ãªæ—¥æœ¬èªåŠ›å‘ä¸Š",
        "p1-b-1": "<strong>èªå½™åŠ›å¼·åŒ–ãƒ—ãƒ­ã‚°ãƒ©ãƒ </strong> - å®Ÿç”¨èªå½™ã€æ¼«ç”»ï¼æœ¬ã‚’æ•™æã«å®Ÿè·µçš„èª­è§£",
        "p1-b-2": "<strong>å¼±ç‚¹å…‹æœã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ </strong> - å€‹åˆ¥åˆ†æã«åŸºã¥ãæ”¹å–„ãƒ—ãƒ©ãƒ³",
        "p1-c-title": "ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ç¶­æŒ",
        "p1-c-1": "æ¼¢å­—ã‹ã‚‹ãŸãƒ»å­¦ç¿’ã‚²ãƒ¼ãƒ ã§æ¥½ã—ãç¶™ç¶š",
        "p1-c-2": "æ¼«ç”»ãƒ»ã‚¢ãƒ‹ãƒ¡ã‚’æ´»ç”¨ã—ãŸèˆˆå‘³ãƒ™ãƒ¼ã‚¹ã®æ•™æé¸å®š",
        "p2-title": "ãƒ—ãƒ­ã‚°ãƒ©ãƒ 2: é¸æŠç§‘ç›®ã‚µãƒãƒ¼ãƒˆ",
        "p2-sub": "ãƒ•ãƒ©ãƒ³ã‚¹èªã§æ•™ãˆã‚‰ã‚Œã‚‹ç§‘ç›®ã‚’æ—¥æœ¬èªã§å†è§£èª¬ã—ã€ç†è§£ã‚’æ·±ã‚ã¾ã™ã€‚",
        "p2-a-title": "å¯¾å¿œç§‘ç›®",
        "p2-a-1": "<strong>ç®—æ•°</strong> - è¨ˆç®—ãƒ»æ–‡ç« é¡Œã‚’æ—¥æœ¬èªã§ä¸å¯§ã«è§£èª¬",
        "p2-a-2": "<strong>ãƒ•ãƒ©ãƒ³ã‚¹èª</strong> - æ–‡æ³•ã‚„è¡¨ç¾ã‚’æ—¥æœ¬èªã§æ•´ç†",
        "p2-a-3": "<strong>è‹±èª</strong> - æ–‡æ³•ãƒ»èªå½™ã‚’æ—¥æœ¬èªã§ç†è§£",
        "p2-a-4": "<strong>éŸ³æ¥½</strong> - éŸ³æ¥½ç†è«–ã‚„æ¥½æ›²åˆ†æã‚’æ—¥æœ¬èªã§ã‚µãƒãƒ¼ãƒˆ",
        "p2-b-title": "å­¦ç¿’ã‚µãƒãƒ¼ãƒˆå†…å®¹",
        "p2-b-1": "å®¿é¡Œæ”¯æ´ï¼ˆãƒ•ãƒ©ãƒ³ã‚¹èªã®æŒ‡ç¤ºã‚’æ—¥æœ¬èªã§è§£èª¬ï¼‰",
        "p2-b-2": "ãƒ†ã‚¹ãƒˆäºˆç¿’ï¼ˆç¯„å›²ã‚’æ—¥æœ¬èªã§äº‹å‰å­¦ç¿’ï¼‰",
        "p2-b-3": "å­¦è¡“ç”¨èªã®ç†è§£ï¼ˆå°‚é–€ç”¨èªã‚’æ—¥æœ¬èªã§åˆ†ã‹ã‚Šã‚„ã™ãï¼‰",
        "p2-b-4": "æ¦‚å¿µã®å®šç€ï¼ˆæ—¥æœ¬èªèª¬æ˜ã§æ·±ã„ç†è§£ã‚’å®Ÿç¾ï¼‰",
        "future-title": "ğŸŒŸ å°†æ¥è¨­è¨ˆã‚µãƒãƒ¼ãƒˆ",
        "future-lead": "æ—¥æœ¬èªåŠ›ã¨ãƒã‚¤ãƒªãƒ³ã‚¬ãƒ«ã¨ã„ã†å¼·ã¿ã‚’æ´»ã‹ã—ãŸå°†æ¥è¨­è¨ˆã‚’ã€ä¸€ç·’ã«æãã¾ã™ã€‚",
        "future-1": "æ—¥æœ¬èªå­¦ç¿’ã®ç›®æ¨™è¨­å®šã¨é”æˆãƒ—ãƒ©ãƒ³",
        "future-2": "ãƒã‚¤ãƒªãƒ³ã‚¬ãƒ«ã¨ã—ã¦ã®å¼·ã¿ã‚’æ´»ã‹ã™ã‚­ãƒ£ãƒªã‚¢ãƒ—ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°",
        "future-3": "ä¿è­·è€…ã¨ã®é¢è«‡ã§é•·æœŸãƒ“ã‚¸ãƒ§ãƒ³ã‚’å…±æœ‰",
        "contact-title": "ãŠå•ã„åˆã‚ã›",
        "contact-email-label": "ãƒ¡ãƒ¼ãƒ«",
        "contact-hours": "å¯¾å¿œæ™‚é–“: å¹³æ—¥ 9:00ã€œ18:00ï¼ˆä¸­å¤®ãƒ¨ãƒ¼ãƒ­ãƒƒãƒ‘æ™‚é–“ï¼‰",
        "footer-tag": "æ—¥æœ¬èªã§å­¦ã¶ã€æœªæ¥ã‚’ã¤ãã‚‹ã€‚"
      },
      fr: {
        "meta-title": "Programme d'apprentissage en japonais â€” Sections franco-japonaises",
        "meta-desc": "Programme complet pour Ã©lÃ¨ves en section japonaise en France : soutien en japonais et accompagnement des matiÃ¨res optionnelles.",
        "brand-title": "Nihon Connect",
        "brand-sub": "Soutien pour sections franco-japonaises",
        "nav-about": "Nos atouts",
        "nav-programs": "Programmes",
        "nav-future": "Avenir",
        "nav-contact": "Contact",
        "eyebrow": "Pour les Ã©lÃ¨ves en section japonaise en France",
        "headline": "Apprendre en japonais. Transformer la comprÃ©hension â€” Renforcer compÃ©tences et confiance",
        "sub": "Cours optionnels (maths, franÃ§ais, anglais, musique) expliquÃ©s en japonais. Aide aux devoirs, prÃ©paration aux contrÃ´les et accompagnement pour l'avenir.",
        "cta-programs": "Voir les programmes",
        "cta-about": "Voir nos atouts",
        "about-title": "ğŸ“ Nos atouts",
        "about-lead": "Pour les enfants dont les matiÃ¨res sont enseignÃ©es en franÃ§ais, nous reconstruisons les Â«conceptsÂ» en japonais afin d'assurer une comprÃ©hension solide. Nous expliquons soigneusement les termes acadÃ©miques et les notions complexes en japonais.",
        "f1-title": "Ancrage des concepts en langue maternelle",
        "f1-desc": "Organisation claire des termes et concepts en japonais pour favoriser la mÃ©moire Ã  long terme.",
        "f2-title": "Personnalisation",
        "f2-desc": "Programmes individualisÃ©s basÃ©s sur un diagnostic pour corriger efficacement les faiblesses.",
        "f3-title": "Cours orientÃ©s objectifs",
        "f3-desc": "Conception adaptÃ©e aux besoins : prÃ©paration aux contrÃ´les comme plan d'apprentissage long terme.",
        "f4-title": "MatÃ©riel culturel",
        "f4-desc": "Utilisation de mangas, anime et contenus attractifs pour apprendre le japonais vivant.",
        "programs-title": "ğŸ“– DÃ©tails des programmes",
        "programs-lead": "Voici les dÃ©tails des deux piliers du programme.",
        "p1-title": "Programme 1 : Soutien en japonais",
        "p1-sub": "Aide aux devoirs, prÃ©paration aux contrÃ´les, renforcement global des compÃ©tences en japonais et maintien de la motivation.",
        "p1-a-title": "Aide aux devoirs & prÃ©paration",
        "p1-a-1": "<strong>PrÃ©paration aux contrÃ´les</strong> - MÃ©thodes de rÃ©vision efficaces",
        "p1-a-2": "<strong>PrÃ©paration kanji</strong> - MÃ©thodes d'ancrage par sens et exemples",
        "p1-a-3": "<strong>Renforcement de la comprÃ©hension</strong> - Progression par paliers pour amÃ©liorer la comprÃ©hension Ã©crite",
        "p1-b-title": "Renforcement global du japonais",
        "p1-b-1": "<strong>Programme de vocabulaire</strong> - Lecture pratique via mangas/livres",
        "p1-b-2": "<strong>Plan de correction</strong> - Plan d'amÃ©lioration personnalisÃ©",
        "p1-c-title": "Maintien de la motivation",
        "p1-c-1": "Jeux d'apprentissage (karuta kanji) pour continuer en s'amusant",
        "p1-c-2": "SÃ©lection de supports basÃ©e sur les intÃ©rÃªts (manga, anime)",
        "p2-title": "Programme 2 : Soutien pour matiÃ¨res optionnelles",
        "p2-sub": "RÃ©expliquons en japonais les matiÃ¨res enseignÃ©es en franÃ§ais pour renforcer la comprÃ©hension.",
        "p2-a-title": "MatiÃ¨res prises en charge",
        "p2-a-1": "<strong>Maths</strong> - Explications claires des calculs et problÃ¨mes en japonais",
        "p2-a-2": "<strong>FranÃ§ais</strong> - Grammaire et expressions expliquÃ©es en japonais",
        "p2-a-3": "<strong>Anglais</strong> - Grammaire et vocabulaire expliquÃ©s en japonais",
        "p2-a-4": "<strong>Musique</strong> - ThÃ©orie et analyse en japonais",
        "p2-b-title": "Contenu du soutien",
        "p2-b-1": "Aide aux devoirs (consignes en franÃ§ais expliquÃ©es en japonais)",
        "p2-b-2": "PrÃ©paration aux contrÃ´les (rÃ©visions en japonais)",
        "p2-b-3": "ComprÃ©hension des termes acadÃ©miques (explications simplifiÃ©es)",
        "p2-b-4": "Ancrage des concepts via explications en japonais",
        "future-title": "ğŸŒŸ Accompagnement pour l'avenir",
        "future-lead": "Construisons ensemble un projet d'avenir tirant parti du bilinguisme et du niveau en japonais.",
        "future-1": "Objectifs d'apprentissage et plan d'atteinte",
        "future-2": "Plan de carriÃ¨re valorisant le bilinguisme",
        "future-3": "Entretien avec les parents pour partager la vision long terme",
        "contact-title": "Contact",
        "contact-email-label": "Email",
        "contact-hours": "Horaires : Lunâ€“Ven 9:00â€“18:00 (CET)",
        "footer-tag": "Apprendre en japonais, construire l'avenir."
      }
    };

    // ---- utility: apply translations ----
    function applyTranslations(lang) {
      document.documentElement.lang = lang;
      const metaTitleEl = document.querySelector('title[data-i18n], title');
      if (metaTitleEl) metaTitleEl.textContent = translations[lang]['meta-title'] || metaTitleEl.textContent;
      const metaDesc = document.querySelector('meta[name="description"][data-i18n], meta[name="description"]');
      if (metaDesc) metaDesc.setAttribute('content', translations[lang]['meta-desc'] || metaDesc.getAttribute('content'));

      document.querySelectorAll('[data-i18n]').forEach(el=>{
        const key = el.getAttribute('data-i18n');
        const text = translations[lang] && translations[lang][key];
        if (typeof text === 'string') {
          el.innerHTML = text;
        }
      });

      document.querySelectorAll('.lang-btn').forEach(btn=>{
        const is = btn.dataset.lang === lang;
        btn.setAttribute('aria-pressed', is ? 'true' : 'false');
      });
    }

    // ---- language toggle setup ----
    (function(){
      const saved = localStorage.getItem('site-lang');
      const defaultLang = saved || 'ja';
      applyTranslations(defaultLang);

      document.querySelectorAll('.lang-btn').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          const lang = btn.dataset.lang;
          if (!lang) return;
          localStorage.setItem('site-lang', lang);
          applyTranslations(lang);
        });
      });
    })();

    // fill year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Smooth scroll
    (function(){
      function easeInOutCubic(t){
        return t < 0.5 ? 4*t*t*t : 1 - Math.pow(-2*t + 2, 3) / 2;
      }
      function animateScrollTo(targetY, duration){
        const startY = window.pageYOffset;
        const diff = targetY - startY;
        const startTime = performance.now();
        if (Math.abs(diff) < 2) return;
        return new Promise(resolve => {
          function tick(now) {
            const elapsed = now - startTime;
            const t = Math.min(1, elapsed / duration);
            const eased = easeInOutCubic(t);
            window.scrollTo(0, Math.round(startY + diff * eased));
            if (t < 1) requestAnimationFrame(tick);
            else resolve();
          }
          requestAnimationFrame(tick);
        });
      }

      document.addEventListener('click', function(e){
        const el = e.target.closest('a[href^="#"]');
        if (!el) return;
        const hash = el.getAttribute('href');
        if (!hash || hash === '#') return;
        const target = document.querySelector(hash);
        if (!target) return;
        e.preventDefault();
        const rect = target.getBoundingClientRect();
        const targetTop = window.pageYOffset + rect.top - 20;
        const distance = Math.abs(window.pageYOffset - targetTop);
        const duration = Math.max(400, Math.min(1000, Math.round(distance / 1.5)));
        animateScrollTo(targetTop, duration).then(() => {
          try { target.setAttribute('tabindex', '-1'); target.focus({preventScroll:true}); } catch(err){}
          history.replaceState(null, '', hash);
        });
      }, {passive:false});
    })();

    // subtle reveal on scroll
    const observer = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        if(e.isIntersecting){
          e.target.style.opacity = 1;
          e.target.style.transform = 'none';
        }
      });
    }, {threshold:0.12});
    document.querySelectorAll('.card').forEach(el=>{
      el.style.opacity = 0;
      el.style.transform = 'translateY(10px)';
      el.style.transition = 'opacity .6s ease, transform .6s ease';
      observer.observe(el);
    });

    // Menu toggle with overlay and focus management
    (function(){
      const hamb = document.getElementById('hamburger');
      const mobile = document.getElementById('mobile-nav');
      const overlay = document.getElementById('mobile-overlay');
      const focusableSelector = 'a, button, [tabindex]:not([tabindex="-1"])';

      function openMenu(){
        mobile.classList.add('open'); overlay.classList.add('open');
        mobile.setAttribute('aria-hidden','false'); overlay.setAttribute('aria-hidden','false');
        hamb.setAttribute('aria-expanded','true');
        hamb._lastFocused = document.activeElement;
        const first = mobile.querySelector(focusableSelector);
        if (first) first.focus();
        document.body.style.overflow = 'hidden';
      }
      function closeMenu(){
        mobile.classList.remove('open'); overlay.classList.remove('open');
        mobile.setAttribute('aria-hidden','true'); overlay.setAttribute('aria-hidden','true');
        hamb.setAttribute('aria-expanded','false');
        if (hamb._lastFocused) hamb._lastFocused.focus();
        document.body.style.overflow = '';
      }

      hamb.addEventListener('click', ()=>{
        const expanded = hamb.getAttribute('aria-expanded') === 'true';
        if (expanded) closeMenu(); else openMenu();
      });

      document.querySelectorAll('.mobile-link').forEach(a=> a.addEventListener('click', ()=> closeMenu()));
      overlay.addEventListener('click', closeMenu);

      document.addEventListener('keydown', (e)=>{
        if (e.key === 'Escape') {
          if (mobile.classList.contains('open')) closeMenu();
        }
        if (mobile.classList.contains('open') && (e.key === 'Tab')) {
          const focusables = Array.from(mobile.querySelectorAll(focusableSelector)).filter(el => !el.hasAttribute('disabled'));
          if (focusables.length === 0) return;
          const first = focusables[0];
          const last = focusables[focusables.length - 1];
          if (e.shiftKey && document.activeElement === first) { e.preventDefault(); last.focus(); }
          else if (!e.shiftKey && document.activeElement === last) { e.preventDefault(); first.focus(); }
        }
      });

      window.addEventListener('resize', ()=>{
        // keep behaviour consistent; no forced close needed but ensure overlay removed if out of view
        if (!mobile.classList.contains('open')) {
          overlay.classList.remove('open');
        }
      });
    })();
  </script>
</body>
</html>
